# Copyright (c) 2018 JSONx
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/jsonx
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: o3vrmNNmENYzaMWR6Q3Hdub1CmNO2FRdSVOtEFpd21UIkZnffSVUbSZDOBLqR4MQnD+kNGCTFuElb4AzZAmEo+S2pKflqfp6gf0TwfBRAtX8LZ8QXbb3JyfXwYVcIDbu18Xa4zyTr0M8tXPcfCWYR2CP29ndnUpSL99QbVV8cv6JsVkoVn+uH+4G+k8cBZSTxdSc+ZOjDSRxGPpMYWH/W4SPBPtziVAfJyV0uzyMAYEkeFgCG8o/I0SK3LSBnt8LDO8df+BNhWBhq+Jm50VYSBfqGuZvNkeqKV29WEdxRUBbc09ieAa9fjBrNNHGWB9VqY3yfbPNRU4P4BPC1ii5ofU177U6IBr1hS0hw8cnIPu8X3pjlekzjsf1LBdY+yavhaRvBNRg8+kJuLlMa7q6a50tar9PgNdff2OeqFj/cN/20D9SpzomfJ5Fi/nd0uGdkhn87K5/1T4eiH1R7F1pIP4ScZlpNM/5GJVIjIS8XdwkKN/xdfhHjF+zkzP6y+Y/IgO2l2/4XDNztWD7kJp269Rb6hIbXyqTjoKivt7clD5XdJU4RrpM+8T6J593MHgYjrkQFIZk92dgV4IVO1/E90/ABiADvnPj2OLQvwQMnwA9Hbv1lW5xq0XXkMj3tj5HqEleuqK9yahI/cQwiwEGbjZTL0rDng1H+QjQ+2ng+Dw=
  - secure: NNYcTb6kKGiYR98tx22py1qlwT35ZFrf65acXfvHsDR1o+xqx7LVxaMMtL4ru85BZSTyvuvryKdYGTMUvKz5OLKA1SAKJx7YX4F2jsan6EgzAckxedzTJtjQVSQ5afgMcksCuKD3RZMc3npFSdD9jJFmMzOeJ4A0BJmz0C/2uCJwnZ3MorSYaGAHfqxo43mxxuO06ZlKIrhLn++a+rOXgXtlPAuAINRdfBxipC0s0msKSMYjSmExoWHorV7UieFkkLxsnzU36CDWPaBqb7E0jLPl/QCvfacP1Qz+vV9ZCjzuu2LWV3nnAcGXICVAyO61pJXHL4VpwUvPSCtkqML2/kLWMm4PfANGWUt5dmI9K0xmIFLsOaoZ6cnue19d3XlmgJ16mjuMw+9ok2gC0nA4FHr/vn5+CLpkEJ6mBu+U53dHQrPdCFj1wOpYC2HRq45FnpF8NxeUrTeuxWqlbdOisfbXTqSD58OTEIuDu+ZK4URXshsARAsVkwL2LH77v2jkjFyw9v6dqCU/Csm/tN5JL2eZ4yWJUNXsip5QazBCd2BzxEV3eR5ad6n8W78bgpYRsMIVZUGITpT3u/0FfTLOARA3uukHIj5738wQ0cmnIq1MoD5S+9UJArcvLLJxO/Pg1wVy5ntIjoQ2Sv11DlO1E8MXQPY+dfAqRD7CpJIcQZM=
  - secure: mgfNTmgADdM1rrwNqz3QSAcamEiD5wCCPNKNIOhaJuyovQj+HTwghlzU/I75bmjOkmroAnEPD3rnuiSKaGyssyyALYNkvVuxVF9lVQfQ7u+Djqk4o8tdgkoN8nmuqzy8TetRhi7SYiLsWuKcX2kD5pXlBeJGqtzG982ky/562CDdw63SCaZRx2Pk0zcTQanoCuonWmHwh/+sqzwc5bGl8Sm0c2hdw2EfGeApAItKfoiG9aTNfmpsgl0Lb1vxxC9U4k8fdSnrCWujnpxfn2uhE35+XQhL9Wd8OK2Zx5NuYvxb3h5kfIje4THg5LQVk2nzfd1uDZwFLauwQzUYraA9PNaj1sq8jkGXIZlAwzfgQdTERzCqkoy95kTKBsSThM74mlHRyyl9EuP2mhCIHmStFlsYhct8h6A81ooOAG4unJj5yUDPVaK+bwc1x/VJeaHxypSsm3JmX+agRJ8BLNWwamE1ZpU2YBlsMHKrMwL4eU8eIAlTEZ6tDSa/OafZdg36/C6pdF651fM8X3Q779gngxN/Ns81PZmXYqHNIQ+x9yEIV6aHb8PGjdNqYGjSjgyKjPSDKuWNjAbo14vMEiNps+tAoMCsjkYKm36pEsKejwIH7osRJL8fLtt92CrTtVHGfbsHDkSPmsx1jpaBW4edCvPZhvZaggJKwFpPijxIhCg=
  - secure: lOxi8PeQA4xZFXxh1JwpIrtaWfyDbOF/0KwPERLjqvt+DT0/mUqe3JLBSoCWrmlAsEWR9LV3MuCQtSEetfEZmA/PSEqF+kpFl94RYAhoCpq42GBQwuvSJL4JMZoai9iQSauRQev9+Vi1z0I3NLBUbIeNS8O4AZgtg/miNOcputNPGafPVUR8XkKkfy2IciEEtbrGjqrxRvQIxzL0GyJP7N9NkTpsOVSJCfKAd9OrJWxsSIa6bVbpMNf6mRmgt+nmWNBEKMkkiJ5kpYZG0NV9lqtmeAhnzT7G46+B0bkQgJMIXyFk5MnzOn/mFFkNYsPmz4vv4/epMAlBEoJMoB01yvUt0WaXYoY/jrSFnqw07n+pH7LzfZBpReNyQ/Skss03V+fl0JViSc0Zyd0WFZGz8016KRTSdQ4QczkusDLwejCZ4C4MeuufVxlIFIR9jt6O1IMgeJCUSnpE6j42XVmxeCn4vihC17yViJmzLbHw2WcgyOoOjKP1PAdj013v5G1pT5z++wgt7mjbctOHnS6zInUXW1trqMBn/aZ+IUh3BfcdhB/wq+9whCCtm1TfjoJ8aC1uo1GS1mcgdbVsOPq9Ea8cQ4EgoG95PUZq1SwGWeNtvaH/uvQALQYaXRA7aw6l2/lzRJqq8GluymE6nSxaewUXIeO88vsK1snK6GRB/po=
  - secure: nbfmuxkyxN+ykN3nLVwtmOo47xgWLdTRTbugoqe5FlACLzze8jT2+ay2psMJiWaHskopxzC3pUs5tl+prKAhZuvDU50MOalFv1bmOHeRzDxCXdp99Y0Evj7CHTL06I7ccW0vei/66z+sRtZMK4Jau27PYsDoM3hq3mCPijm3IAgxDuHACf3PhFFaMpkc88TdPEtG2GYn9OMqBg3L1JRuqy1uvqerayRYSzwCBR4aKkQtrk3A+or8d/4Zk61MeDW35sjz6RYIzhJjYhxdUV3+G3mtc4/eXuIha8Oy4H8bRGTp3I4YyhfPSFQFMjQxyn5sTP9FM2t6t0m2ulDjR7nu3ehm0NeYN9IAq9JD957prizFIVEbUNmpKolL97xyhMnQdtU2gEJDGlBu4WKvnX8LVUIea7JwpyDJ2+PZJVaw7I7t+we505BdHeFrBPV0BhIS11GZKO52kOKQ6zuw3Xwt3qZQ3PVD4rbvLAMH1WlY0ukWsfupRqNj3qDKmNeXnyZ+nlxW7HgRvTE2cexZkTSqc3bQodWEkKZoCa3TtAFt+F6dcgvOaXmrtI3/1OWh4SaV01qF1vF38URK/xzSyiGk6M9Q3NdoGUMvIHUoHDXCgqT900t1Qb51qVqyYiv6ezKidVEEhA1FL10mooMmcYMVjMQPDp4hHB5SU2oW7eYp35M=
  - secure: WTKi0y2KBlmHXs0jGPGii97f9Xuss6duYnFFSHO5FKt29xFLZc1masnbMCGWYIYZTL4DkiZM+K98n7mKeLSKCK+XlPMS7u4cbv5LRS/m46pFbwnoUlxSbwf/ApK8UwPcG1Wyh3vkJL1rTYwp4BZUzGjaNn4CwcawOxZYlWcnKD9UEmJnjvu5ibl7uUvujUC06WEfmhtM6BORcuWsbvJ1iXEgiQH5Rx5K8U5CyBRYES6HFdU3hDfNVhGSYKhyPUEMFLdYm1aZ7LoTTEytvYzvgyXi8/zluZY2N46Q1MRsTGUzNbLy0BVHBfnKlED35pIPiwx6vkggl9tB2FT1kHRvABMgCyW2iicC/OPK1YkF31IPIytQgO8r+dfvXtCE/0rB5Ziu5FqA3tamFu9dKgGmNnQ11RwZtMjtCTFvDbEukSv+ZsQCPB6gJSqjwlys0WdHrpWyYuJ9bOd1Nea/GcJbVLOCgVBnpejYMxYP4dMVBvF+0b8JiSwxdjaCdRJWKfYli0SKbkN3a62XRU0wBF6aGSzMHomjWn0qrRBGJMzqO6pCWZeONqh9BV10HdXmjQdn7DInqwiu81GmNWYRbCQl/LFtq34gAR/Ols66q9xJiOm5q3q4TFw9+OQ0TqSsZur1N6TK/WwHwpGqkV3GDM3QAi6mmiUfhodUrQ+XL1Cd/U0=
  - secure: dm82hd+nm5wULKZ8N2UuUFzsDzWx+tgdzqZckhHNTLGmIhVWdnlrXYBQu4tow+Up4TbOombB16M+RCibE6nrCaJ5z+U5THaQelyXtLa5ChYJTvjpryxZ9sKaMfa4d7spq/Kn5HpEZaAz7aW8ErFuti8CziWN9MTUh/IOBOD9UmMyzXIw2DUS+SJPDIUcIIZVA2cqv5tsQqbY50rFWJIfCjiZGs15Cfdkc9KR9y88BTkJLQowxSwv+Vr+IFQTdNqGqle9kTZ1LbdX0lnuS2zlMNMJeSs1zOBtQlIY5JQ8qMb3THfvyq8yvluZeRa/xTraIxNwTMT46SAj9rNQ+CTqmS4Xi9L/Q94UgFzRj+hIa0xe+Ed1GxVKbanNbgwc7Qfjblwsw9B9EtjSie9m5Uz+B8bYqEbOmVs1wCRcwQxAZfkKE1jc2evVB3ObdA0qDRp/1BEw9//egidkQGTN/XdsYSLgCM423bPkBKxA4lGaahWzBQ+rWv8QtFbIngd/8SFYiHi+P9Tvt/SivfVtLGqZLLnvy6Mcd18StV+QEAa4isPJqw4+I7pe5b9Bct6Y6AyRYWZOb8pTQP2rk15M18ZPDmQWfmehwEolCITZkZlPWAhGe4AZB3tFl/AOXpSIWHzmWKipPxQLwVQ/OX1I2Vw1DzhZ33E9cgfYOgE8BQPPvHI=
