# Copyright (c) 2018 JSONx
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/jsonx
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: eAbX6PW+rqcieeI6WHNAkmP4Bzd/5mhvGh2FiFEv67PSslY9F9fe7h743s46HhL819l3rAUq46iD7Ias5BU1pFjKDvwP/REFsDEWjwuWZ5sBQSkRfPFRDhORG5ghlLxNgm0oTzJ9wypUVuFqzv+G78JSbB2CJnBEOnvyGSvovqR3CLeniI4j7Vu8nZP+uOVFnwBh2c/mIdtHqQ6h/PnalHVaFeodtwZnwshQ0nyW+6I6CAvnAjy6N/GGDJg3doUTTZe5rRbZNt7i+g5R0pKzfqzOxtoL9HvxIMzv5lBsm07JmCalzaAXYhP1NLtEwSA5szDcrzO+pRSGNi4KUW8V5mAmO6DNtjx9wBB8+1G0+N8w7EnqViGKxs81JOlWWkuWqh/1q+jYxJPdJHYsUqvXgsFt+L/2KQwXGSMGkkzCHUWRjYHeSUiTGeSLAnDhVAkVCIXUxrXkWw5UgZmhG409rs2oavDZrRsGMqI7k7Cr07vVRKOnJ+37WONF+AGR/Cyz+UGtoej41MoVVZRwNahXt3yRmfIK9mIKNpQbIDKRzyyUMUX4pvwYh1q+0uTVRTs/4kzRaNGZXkPdkxNmabIl0Q2JEFK93GPuEZGRqTFIXeQTDvkkulriPjVD64JyBpIK7VVvXWfYDB4/dCTGPU2vckIDjF9rVPKIG38JyymCNZ8=
  - secure: IFTw/Un0zW+w4zU73qzNtYZHhrfdsy1QWIgL0hrN7FdlvqyLIsO5oPIzzya78IZ4OXdJ1BSE3ExfPMTkd/ISnx5l1+MWWlczmLClTK6e8A3/xlqum/FtnUrhsSSdfPippZHzq008WdGUmkNUsAQrWkTNKVxli8etwoxMkN9E46WrpjLd/0qSETUjrKS0BSK7xSHSsO2WX81psbxwQnNXycRw1uWovTQMDGaEwCWjNjXrVt93Ie4ENcPPzhiraxdQKedpIOmcRBVF94s4Iy66Iy+5QbdLxul2NzWrkI43XXBPaSuH3cS0XYpVhy6DwjM9TQcrlBvtd5TDFLAVZtthLBKB3mnpQtKEjicDdmH0aclIbCnu0LZPuOQZnF7hBUeuOBoVijQn5R2vGXf0KZ5MiSd13r1tzd3owuLTHmOWNSK3a1mKuEHJM2u7v/GJkJmWqHsyFzP2hP9DWurfUTzkzbqjFzMFrY5BEEUyWCmg9C3JDODTC3kZSL4rVgQY4zHiy7v8OKeoKt0tqQA975E0heKu7i108zMo+Z3lvgRBU+t1DOmcMD3BVBpe0oJTsePnpAVv13EwjCzbmoPIW+2P6oiDv1U677hQxudYeSDSwW6mvIufEjRx9p1yWRZlpQ8J8PqJboFhBn4MvsRlbEkadXuLQschiuTuKa2qVioC8AM=
  - secure: UawSLSOmuaHSV2or/HVUruT2vqFDxF7uvWg2aqS9QxXdrhy2WC10EFWjpER9gR4fp7UEf++84J4AJBLdmEMoIL1gqv14ayNFYIMg8QDviHjWkbuHD96M8z6YmqUPOIGiODl3rin3SKySu+YtbSi+XWdjqiAdDK2oCpUSyRppqlUgybOrDJtNjf023mJdcyg1PsEcKcccRS9rBJJ9e4gBk2fFSFeVig8LVgHLRiU5XFJqSUL3K+NE1EVzZ5WhiPWdQvTdYqqMM4nW6JkkGJz3uh+lZX/tX6J5XEtSCOuTK0RAzcWew5R05Ci6w5akCSUcVgK1NHzots9yoMv95a6gM56VL/AvCeuDwi0al335DEUTlE0QHx6+qdIBBgHekOIPhGeFCruGOJXjzOpvf6s97BDyKV8uHF14OTuqStkSUzEGLd2u9QCaD0R8LnReBdJg62djQI1Yms+q5N8VEMLrnqdMWsln4UMV+1RCmyhRMgcnI9tmzcOK/BK+caIN1uE+x+IJ/AM3b6mQMxV2gOQSRGqb+zPtwZRwFxuNXcP2oiltXm8pp+LCKUA9+DCtk9cOT4yIvth6vmR7pnTpm43lukZLcm3ETl0vUqMPRl7GJeiw/viSTjQJx71wLJ4rXn6HXfTMb0PrKvw3ZlPGFbvW3ovgxGL7ZzCrxpFRYn4V0VU=
  - secure: TfW1ihI+e29HETLLUy/RBUEDbG+dVorQsl62JJxWMUdAMJMvhAUGVzCLTH+iXdOzIDw3HhZKn+ONuIADzVvEhJ2l+wkPUsE9IVBBCfu8QWY3GUsO+Z+TANRNLtSV3Z2tS0o0pyVc6vQFuqhz2p0kfAwlI3QcbN/acofiz0YeTMJ8icxqxWeQzbON+AAmXIVOSQIC3i5zZVHUh4+LY68LiKGPUAYQBWw9XYkx03czLy3PjXP9luAMoUkO4pLxaNJuzIXrXg60nANt+MA8SzOjgPuG/4fW92aqrrw2u5r5ot6Z2UrS2mqS/fUNXg//xPn7aW+doxEK512Vdp4FQ63kv7koHOb1DOA06ViJXXQcWVbO6Tck9RyZTwN3d7H8PhlchA0SYnWU2vduI6r2Sl8jVTYzhtB93DzbMK7/u5AOhP3XQynKn09paGc1USzjrpsQtnelBWRJ2DdsQNXDahaziQwW2uVLA7v9ZJKNtQoGE/e2vMwDVqIaIxM++FsRwadETlEbM8d0x1qDgGSt/oS4k9ZfBkb7RUVV3PvGoBHl8lYx0qE9O+mvbmIxT5vQiXnjra20KQEGZdydiN96/YZ8P0PeOm0GQP+3usv70wJNdpnXT4XWbuXCjeplE6WOhXbhIaNm2XYrhoT5DBeAJrOGgf0XjTIjCHhfGCSBl5kREGU=
  - secure: GQzKv5O7J8vB9nhv2hkGmQEGvo69bUuS9nPy5srEJuQAwDaDGmuywC0QdYqlwhePS/gkAUiFBc3tqlS2CQFf9LgvDN8pfuRRYtlvOcmWakKpoqrZjUmuSycBLMgQUpI5wCQ1pd+UvBeaB/vQDgeDGrYOfEg1S1Ka2gmVlh5HqZyfURbCEy/S6jz25eHY+Nr3OLOMX06hXQRZNxKUw+r/ZYw7aERk4cxRMWD1eW7ywlqwK0JYCIHfF7d/iCfGPlGd/f5snKZPqun9kI8IfAmeclKrYvln+MbGRGHNDhsy24nvDUBcWrNa06dthpblVzNYHxpFnlPjL+L6QKU38/v+2r8Sp7jL2fIHDzX9ZNlkfS9matfAMN3/B/7x1bmommlLYXMlGCDp35h5SVfj8krnnliBYkNGVo4vYXzlBdJLSU5D2YjC+7fc7b+fZxxmGLttq62zgW5IyirvL27CFqtU4GYDJ4RPpGX46cw6edWJeDhcZCyUpLJokGmi3/e+lqdeQ9azgEnhCoUznh3JmqUnbwrBq0WonH3NOnSS+TkaK+sen8MqXmhNNFFp4/8JKfxyGpi9IUFgFy5rWNZF4q0DUUxrmqjaURXW32a82ZTAd8xOLKM2kXARvT+OfEaF8M/e+UOwmuwAtJbf89rUMswSaoJYCHFUY7JZxzlV8JplyV0=
  - secure: ZbODkj94qhKKIZjLSNQOlRA/DAb+05IYDTRG0bLkMcWVhSFPbuM9TPvVXv+gj5lPp0Zsdr1fzIg1PbvngWEQd56KPjwOJPaD1mcbNOr0NYaczDSoe3a2zL0oOt1Ugz7aquZxUydohPEtH73EhyWfTB48lh5ffo8BDwJ3cg0mCmBgYiVMjdlHRsI1EQ7g7SFlipEBhW01FLf4qrJpnOGBxW26PbxoE1FGz73zCLT6Q+qLEByfLyMOeAOS+T3Xwbf6i/t9OFz4b/VMwpybfy6VQVbBUDeVxfjbMoIQAugN7fleagMd0cyHzLityz7QINL8fj3L9iMODxb0YEG7tXbodazzgnWF+XuufdwpeKpiE4nbmoPYU/G+HwBJpn8LPV98DUTSCJVWNoOnefVLt4b1AJFskbUd4FOxAOENQ5M4sCZN7uqMlcNIJTJvtwUXPCpHl13L42pxRt4xus2CNZ+VdOHyMxgEK2+91EPJ59mWeGrdyyuImbQ3HqWNRDFtaLMbFENy12ta/c+sYhaKKT+qykzx6JAdA1w48RnAkfwuY7U2VcY2yLFwiO6aIFjmbb8uLMImRFecIC921kd8rF2hEekhNdmmjTf7lEBr6GwlZzpr2tEfckJMU/TBSm5VSC0YKi5gJVC+BMBS3Jy+of6uOtTCg4tOevhkDuX2n++lZ1g=
  - secure: meGg7tHJog6Zts7gmWnCbSB6uVdr8BVzlXzzObVY7ndNY0oRvWg+cAWwjPZEX15FXCNLVR4cCYsSu10HbIqH9YtSQLzBSxUtDe8XJ4q0UQQvYusFzLsuwvIm8RboYHCLYL0su3FXRwFndwKwVoiXxdI2Jy/UJUyYG8TrJ9SHRWS953vWRAexWWlf9Bj51bcGykAsbbSXkytowEdk9ZE0X7Ua0RiJDIX5QKsIrcyUiQ383PxlArvX3qTwZbIadiIVgjrWLTvjxqpqbKjWvVlZtJw6s1VBOsNaldOTeFRfipaxwCIO88r7rNUfcBPpsNrogcB6eF2wIgIweJYzOhONBFxUZe4JKmhw1sbAqliSfAio+slQL82vOcIzgItZqEm/+JEDL+o8Lr4cvxhFZaVgMQNXGV/o4kqUTqfmpRCa0pXmUUXjEhzPkMbvk44oQsvIX/UEbjC1AwqIhDwDLvwm/wHFP0Rh7hFacGO9aN01APGN5Meu3qDYy+ZuY4fWAbMO0LvAqn3VanJT8ROqoumyqyZE1O4yTqs8GR3ZHWo5DxwMZiXG7XOp1LNx7TRIuaFPDAZgQQyZB7EYnZvrKNdASU14Xj5bYyFiO2uw63mkAbx4h3hJzW++gRx9GgOZpHa81AfmmNGX8QsMikTTGGHxjutA+qnvLUeppxCvXpVlBYc=
