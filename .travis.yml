# Copyright (c) 2018 JSONx
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/jsonx
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: i3IgVo6PFInrY8djrj3ffIS0DBZf0ZhedDixLf8aUh1RI0LS7OzKnsLyLLKMr8eEoDAI4Rl2OtDSFhj8CNZCbz/l2dYFAzkQJa6iEtiR3urzBN+tQOQg9u5v12P9XEAmr09YZow1URVdrZGpUgT+rnsuomyWuaxhydQXK5RFSkGkqy/oj1rbK7cI2MPJtedhhYYEPS6BSTUK0GfLx8Qvw3U9fkPAGhEyrohGxV8p00zYRzOLuZox93BgcvJcePqjsg1jEyuDJEYbklYxchZfmGkq3ECM+eO1utkQ8zX5BeJoFP4zG0NSwYmaMUs0gmbqgd/d5am8jynS2w/qPhzZgx+52RIFMa64DThP2Bv9lBOnSj2J2t2ApI607ltpiY74D7a/4pPuc+76N1us5iwc4idAqCtu5S8eggsOOz26BbVMD9V5DZ3lJUsTcTttaZSsQIHyMfibWFuHX29IYD1cBPWJe0KkzO+akHb5CZ1oMcJRy/4C3/GurJi+o/xrlhD3TucbHsWOiNktW0//fCeyZYL7260s53xxBZqjGe6fyQzEnEZrNjmib2ShbjMzHYv4DEDsvDz0Q8ETf25FcFbK0dAD/NV3KxkfOIBPfqBuw/4obwDUHmscf9a1k3zXRFxa/EQVvDsffJzpz2h7aDM2KIVMxQGGzjBw3j8Ifj9vpiA=
  - secure: Zm3ePC6ajQpFmeMhBagWwNyiXRPhjB7z5KoEhgOrFjf6hq8EgucnT0XFNJL6QK+nNUqmnqK8ADTBMmqsO5xf1GhNT5lejzvIaHI7D8sru3XDj5JFhPAvLW9uGReHct33SGLy/Nbeu3Cmefycnxq7er5sS33PiEnjrIurqrpMkkQySk8Dkzra4R7+tmcG0Cc5cY89YpQ4JYmUVdmXnIYZK9njy2G4fbkcZA43PAXwN90RDg/8d22S39q37akVwHzqne3g0Ht1S7ejMjWIr2lYjM/9XG21ERU+LRiZCWZffZ0K3FhL7/hfeoOICaPFMaiXraZogLKbfuXVPb+5CggBV3AdaECm++VMyMvNszDs0bItqvRxdwPCEBHHTxvExUAZYq1PxJshnifBDYKRPaDSUFB6QBlYu+Yc9+5Tnp4+djsTxFEMPt8eQLIEImvgXBts341sDZgzBgMQ/SJfOh4wKtF1kBnYn9eSPA6lGaY3eSR8gtbyRK3k1zQ72B7QTRTejWs9PhJdfZu71Vdu+C2g8JVEwihCR8axLR6jjqfdu3jO2gvnLiwBxmU0V9Ii+OPqwcjKQlTOURJ11nqCmnup8vnOnMGHeucRW+z3sqGe7+rJ3wkQkoIIZZ2IQDWSzE/bVVCa6N21ZAW9kr+lP516EJMYtrJ+gKp48YmI3/2sNFw=
  - secure: AiUc2MCkH5MuQDgW2OEijFeyyiREbUMV1V6gYppNY1sAbHghPAx39mNI3gUrMpLkTBV++e3SaZNS2xuGlQObc5VueIsFL8/6xL0qnkBKVXgAnM/RdIOpkTll7tAA0TmBRmFCrDRGS1Nw9oa9YQw2kCjDNFtBUSOES8B0ArvNhn2SAy8A1/9aMlLadEL+R+cmLRDfDDnINwXBE37RL2pZ0z+iQrEXPGywMULWTc2L55foMECw5fs8Pj6co5ayXcZ1Q+/6wzRfgpYB+D3O5WTFEIOzJtuwU5J6VHR3xFvoQsGVeLm8Dvm2MGaD1fbwj03XraXYs7RVs8tv01XWo324T3RGHVrxIBrRBaGq8dct+zXYuQY7/Gb/OYhr9MyMt9IuTue7PhajBapxWBR51iGHc9MTnQyNh7WHOAegNkNRXoVN20y2K66C8CRjdUEoLO/X7VTvR5wcvDvQoJc11hbnYr5evr9tbyY+Px9SOOpL5DaY90M8OzA0AriNDpLKvI7SLyfV3qjx5Dqh4OC1khOIJ4odk/M++ctX9aMDGyf3t66NyyHMky4NKF09GgleW0Il4jFyG6AgWlAOeaW4vW65p5Z7AMJHkz04IBOi3qIHhv8PT+j9ppF9z4etBPU7Dej+8VQND41AElii8vo/VrB7QMjxEW+bczAJG6Eg5bdakpo=
  - secure: rB1y2pj1AtX21/qR/kBrsaHnr2231qCBIjGa3z5DM8dycIbVcMreena3+5K//7G4dLlJN0GcyKSPHYFjzYzJDz1sg+iVgX2yRFyj5c1YZlNpijpbdBkU2qgG1GxRkGGCI9jR1LhQIT+Q6i8h7zJTg42p9c6z28dGqtJ2rOCvcAsVYTUoIhiL0IiDYQm4xIClCQL7q+VxKtNxg/nE36TUCNOLJWhJko4ZhHFEKcF2Q1+EKwiRUVOi5xl4xW6G+ycotXYuT7k8Sf/c2lFQSEqnQT2JDEwlQsM1eA/z8i/suIgMCimkXlWfFl4xN0dC+SrkKGxohYvfwG1febVdTuiWnSNuf+P/g822LHtFONMO0Y2kMJotKIrRGPY1gN8CDikDXPwp8SItlPb3qTjnNzvf+YRIfJjYV/hh9IllX3rKtCH/cvBMPe8yH/NZvap4dZjx33KoL3o9JxPKnMhqMv56haZwKUd3/A7fZmmafPh7HeT+WxrjKZt9gA1eaGmBPK6VgqU0EhnmR5m3NvuG1F+ejXnxzq/FDOh0o8WzsV1UsSmEQU6iDZqkrncOATzPXsz/+c3qpxtX4Cn3OFKUZhumD5s9Krb+u2MJhaFtp1O9EpzN9kHAhmt3Jr+ocfk0rUmKdxh+6YKWasvqVD6k3nP+u0nV+Qaluwy5hzC6xKiDlCs=
  - secure: ZLTL+UL2tS6Y8DnwgvZJS0JKMm66GM1omw00aPzbBwhJWYK+Sx5l9NiREMhRxHilJ2uuryr8zo6RNzMRAwGF9CmqDr5T+3VkZstUBF5gyOMk2TUxpvW0sA3kvrM9BFRQdWJ30Tgj43iyy+/8SVkf65zJXkStaSycHOA2I8OPWFTCwwW66CaT42TyD1Y9lggC+2CtbJQefa9PczeCrcY93PK46bleLu34GwoyTlUZ9/XeyhUFAqm4kHRjjUinygSeMesqCH4AOGfEUOW8T85KA6OHXVArk3aOaY1qSZVHc2xmx9KkBw4gXwz36UVor184jD2QzGbT1GsYcPHhGCCVMm7JhmQi7wTX+MFiveXpCG1k813evtp+eq6im3rb6LYTieE8LK4ohqS9PRVn+Avvz9fChQkgleP6UDpNYVTIpAmn9gkNU/hs6jgsurVdaoCs1yt9xkUJyG3awE6JjUUK4XjUQxMHQn/XJyfuYmm3Sswv7ZirQeKQ3EsG4nWXHZdGDjBSVx6f1i1+gJEYFvV/UvQZxoX9ss9qw1Hq0TYOC1Gou7D7AIxkxSTjYDeDmmBvZ/CJxY1BloFaYWPdz0QOfUxVmlF3C/1PZSHtERvcQnzETDVRnzp1eW7rPEMCco2nswlIItAnTh6Yv1GDT81MbdSuV++4NBC/wNFUpCSNMak=
  - secure: fpATmWyyclz3LC+cOsGabPCAmL/KhVOZJ7AEG1dCyore/PwMmi/vBP+xpDb92QpbJnh+yXBy3roE1E6o9WcFrKvouDD0KTrfSGWhkPHjvlAsRgap8g0bJbF9PZqkvczkRjhreLvZa97F7QYER9n7VYTL25ZcP1NyuV6AJ8UyFxgQx6RBwsauFucSXXI01nLJJmDN5YnFwlVITeLebl1ZJSECKFapSPZ5T0lwLld/czPiPUvpu0EXX+SBTNPjO7hVZDr6RNx0B4g7Ad5Ev1CzDcOTbcRP+AAihLv3cmJC19/bTNOWC5VlPZlBucVVY3TkGoKeTywPjRdvxBvz2tFaJWXyqzDXKnMkLdvtelPHAmRCy0j1ut4hO0shJW8las45Tgv0BzOUQNLStvwYEKLnVHvaFa+NzdXv+dva4w6lnLJ7FWE8MldVgg84MNtkaObAK7O8mVn+CENcukF5z/Hh6MZnbxSlpS60Tb0AbjPAio/AyavIFfp3NXMFVRw6HxOGYAwB4mOjWEJEdGK9VPFq9qRAk8U0P0jeivBG+j7HDR+TMrMkgiej8q8otVTDY3ZpS2q3ckx1ix+bUnz8NesburgVhWI3Y2ePoAodlJ8IiCJUdcPlTxq8+Zqs01URhBds9XtPPs+uX56p4cbdCMUXUjMBekf36qQuovoXLLnIoSk=
  - secure: Z3/H/XyC5Ztltnn7gczb7YNvScTkiIZ5iEF/iO+FV17jhcz1YDlauWhiJq2Jj8BvtPuUtW44xQxBUilhxG9bZj9JwbkO01xck8/IwOh0FkoHcN3XaojyPVSbpDSwoyGmcaxVGvmFJxV/T6iN/PyRxeSA4OgWBCxMjc+dOBmEUjnLu9j7yKoFNwCAK7b6MnNjGZGEPcN5NC28lVayrY6kyU/dMqKu1rrkU5iziL7gWwWl81euT43FN9rK6ngIbAby87CtKTVWSdGgGpVBvHdidIOHd7/9I38qbT+ntC4GX17+F95V9O4+Ap5FAEMVkhawMeFCT9NWGUdWb5URd9OrB/Ck4IoQYZDMNfhHdtQVWIHDRQBCFucgeb7cV50d/ZPkapyDBtVN5XrdeFlMwqd9S2ig1BjTWQ4ppUT+K+C/j20yuqiUstWQpkbKvmHKYHrI0YDkc8dm67nVho9auzV2Lt+ubJ/3352sygi5AXmUcgm0Chzo11vodTOvX7pyOqF4fhIg+NVTaQ9Y5yqqtr+P08+Rz6JEjIqgBAgw4Kj6jP4HlONVaX2jOw868rPnJFeoaYGME5c4yUBZSSmDZz+ajq0VAtKR6p5vG0nBGfkNVVUGRa3tYet2GjNcQ2UzV3WtFVjow6GDcCDBLsVb7h8AaycvI84CjBh8L/ncqI4oxbw=
